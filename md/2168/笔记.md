```c
int flags;
# 获取原本的 flags
flags=fcntl(fd,F_GETEL);
# 追加新的模式
flags|=O_APPEND;
fcntl(fd,F_SETEL,flags);
```